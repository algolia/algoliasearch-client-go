// Code generated by OpenAPI Generator (https://openapi-generator.tech), manual changes will be lost - read more on https://github.com/algolia/api-clients-automation. DO NOT EDIT.
package recommend

import (
	"encoding/json"
	"fmt"
)

// RecommendationsRequest - struct for RecommendationsRequest.
type RecommendationsRequest struct {
	BoughtTogetherQuery *BoughtTogetherQuery
	LookingSimilarQuery *LookingSimilarQuery
	RelatedQuery        *RelatedQuery
	TrendingFacetsQuery *TrendingFacetsQuery
	TrendingItemsQuery  *TrendingItemsQuery
}

// BoughtTogetherQueryAsRecommendationsRequest is a convenience function that returns BoughtTogetherQuery wrapped in RecommendationsRequest.
func BoughtTogetherQueryAsRecommendationsRequest(v *BoughtTogetherQuery) *RecommendationsRequest {
	return &RecommendationsRequest{
		BoughtTogetherQuery: v,
	}
}

// RelatedQueryAsRecommendationsRequest is a convenience function that returns RelatedQuery wrapped in RecommendationsRequest.
func RelatedQueryAsRecommendationsRequest(v *RelatedQuery) *RecommendationsRequest {
	return &RecommendationsRequest{
		RelatedQuery: v,
	}
}

// TrendingItemsQueryAsRecommendationsRequest is a convenience function that returns TrendingItemsQuery wrapped in RecommendationsRequest.
func TrendingItemsQueryAsRecommendationsRequest(v *TrendingItemsQuery) *RecommendationsRequest {
	return &RecommendationsRequest{
		TrendingItemsQuery: v,
	}
}

// TrendingFacetsQueryAsRecommendationsRequest is a convenience function that returns TrendingFacetsQuery wrapped in RecommendationsRequest.
func TrendingFacetsQueryAsRecommendationsRequest(v *TrendingFacetsQuery) *RecommendationsRequest {
	return &RecommendationsRequest{
		TrendingFacetsQuery: v,
	}
}

// LookingSimilarQueryAsRecommendationsRequest is a convenience function that returns LookingSimilarQuery wrapped in RecommendationsRequest.
func LookingSimilarQueryAsRecommendationsRequest(v *LookingSimilarQuery) *RecommendationsRequest {
	return &RecommendationsRequest{
		LookingSimilarQuery: v,
	}
}

// Unmarshal JSON data into one or more of the pointers in the struct.
func (dst *RecommendationsRequest) UnmarshalJSON(data []byte) error {
	var err error
	// try to unmarshal data into BoughtTogetherQuery
	err = json.Unmarshal(data, &dst.BoughtTogetherQuery)
	if err != nil {
		dst.BoughtTogetherQuery = nil
	}
	// try to unmarshal data into RelatedQuery
	err = json.Unmarshal(data, &dst.RelatedQuery)
	if err != nil {
		dst.RelatedQuery = nil
	}
	// try to unmarshal data into TrendingItemsQuery
	err = json.Unmarshal(data, &dst.TrendingItemsQuery)
	if err != nil {
		dst.TrendingItemsQuery = nil
	}
	// try to unmarshal data into TrendingFacetsQuery
	err = json.Unmarshal(data, &dst.TrendingFacetsQuery)
	if err != nil {
		dst.TrendingFacetsQuery = nil
	}
	// try to unmarshal data into LookingSimilarQuery
	err = json.Unmarshal(data, &dst.LookingSimilarQuery)
	if err != nil {
		dst.LookingSimilarQuery = nil
	}

	// check if at least one type was successfully unmarshaled
	if dst.BoughtTogetherQuery != nil {
		return nil
	}

	if dst.LookingSimilarQuery != nil {
		return nil
	}

	if dst.RelatedQuery != nil {
		return nil
	}

	if dst.TrendingFacetsQuery != nil {
		return nil
	}

	if dst.TrendingItemsQuery != nil {
		return nil
	}

	return fmt.Errorf("data failed to match schemas in oneOf(RecommendationsRequest)")
}

// Marshal data from the first non-nil pointers in the struct to JSON.
func (src RecommendationsRequest) MarshalJSON() ([]byte, error) {
	if src.BoughtTogetherQuery != nil {
		serialized, err := json.Marshal(&src.BoughtTogetherQuery)
		if err != nil {
			return nil, fmt.Errorf("failed to unmarshal one of BoughtTogetherQuery of RecommendationsRequest: %w", err)
		}

		return serialized, nil
	}

	if src.LookingSimilarQuery != nil {
		serialized, err := json.Marshal(&src.LookingSimilarQuery)
		if err != nil {
			return nil, fmt.Errorf("failed to unmarshal one of LookingSimilarQuery of RecommendationsRequest: %w", err)
		}

		return serialized, nil
	}

	if src.RelatedQuery != nil {
		serialized, err := json.Marshal(&src.RelatedQuery)
		if err != nil {
			return nil, fmt.Errorf("failed to unmarshal one of RelatedQuery of RecommendationsRequest: %w", err)
		}

		return serialized, nil
	}

	if src.TrendingFacetsQuery != nil {
		serialized, err := json.Marshal(&src.TrendingFacetsQuery)
		if err != nil {
			return nil, fmt.Errorf("failed to unmarshal one of TrendingFacetsQuery of RecommendationsRequest: %w", err)
		}

		return serialized, nil
	}

	if src.TrendingItemsQuery != nil {
		serialized, err := json.Marshal(&src.TrendingItemsQuery)
		if err != nil {
			return nil, fmt.Errorf("failed to unmarshal one of TrendingItemsQuery of RecommendationsRequest: %w", err)
		}

		return serialized, nil
	}

	return nil, nil // no data in oneOf schemas
}

// Get the actual instance.
func (obj RecommendationsRequest) GetActualInstance() any {
	if obj.BoughtTogetherQuery != nil {
		return *obj.BoughtTogetherQuery
	}

	if obj.LookingSimilarQuery != nil {
		return *obj.LookingSimilarQuery
	}

	if obj.RelatedQuery != nil {
		return *obj.RelatedQuery
	}

	if obj.TrendingFacetsQuery != nil {
		return *obj.TrendingFacetsQuery
	}

	if obj.TrendingItemsQuery != nil {
		return *obj.TrendingItemsQuery
	}

	// all schemas are nil
	return nil
}
