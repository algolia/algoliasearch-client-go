modelInstance:
  type: object
  additionalProperties: false
  properties:
    modelID:
      type: string
      description: ID of the model.
    name:
      type: string
      description: Name of model instance.
    type:
      type: string
      description: Type of the model.
    sourceID:
      type: string
    index:
      type: string
    modelAttributes:
      type: array
      items:
        $ref: '#/modelAttributes'
    contentAttributes:
      type: array
      items:
        type: string
    lastTrained:
      type: string
      description: The date and time this model instance was last trained.
    lastInference:
      type: string
      description: The date and time this model instance generated its last inference.
    errorMessage:
      type: string
    modelStatus:
      type: string
      $ref: '#/getModelInstanceConfigStatus'
  required:
    - modelID
    - name
    - type
    - sourceID
    - index
    - modelAttributes
    - contentAttributes
    - lastTrained
    - lastInference
    - modelStatus

getModelInstanceConfigStatus:
  type: string
  enum: [pending, active, invalid, inactive]
  description: |
    `pending` - model has just been created and the pipelines are being set up for the first train & inference. \
    `active` - model is running and generating predictions. \
    `invalid` - model has failed training (ex. canâ€™t retrieve data from source). An additional `errorMessage` field will be set for this status. \
    `inactive` - model has been deactivated from the dashboard. Pipelines still exist but they are not currently running.

modelMetrics:
  type: object
  additionalProperties: false
  properties:
    precision:
      type: number
      format: double
    recall:
      type: number
      format: double
    mrr:
      type: number
      format: double
    coverage:
      type: number
      format: double
    f1_score:
      type: number
      format: double
    updatedAt:
      $ref: '../../common/responses/common.yml#/updatedAt'

modelAttributes:
  type: object
  additionalProperties: false
  properties:
    name:
      type: string
    values:
      type: array
      items:
        type: string
  required:
    - name
