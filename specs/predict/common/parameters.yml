userID:
  name: userID
  in: path
  required: true
  schema:
    type: string
  description: User ID for authenticated users or cookie ID for non-authenticated repeated users (visitors).

userProfile:
  type: object
  required:
    - user
  properties:
    user:
      type: string
    predictions:
      type: object
      title: predictions
      properties:
        funnel_stage:
          type: object
          description: Prediction for the **funnel_stage** model.
          properties:
            value:
              type: array
              items:
                title: funnel_stage
                type: object
                properties:
                  name:
                    type: string
                  probability:
                    type: number
                    format: double
                    minimum: 0
                    maximum: 1
                required:
                  - name
                  - probability
            lastUpdatedAt:
              type: string
          required:
            - value
            - lastUpdatedAt
        order_value:
          type: object
          description: Prediction for the **order_value** model.
          properties:
            value:
              type: number
              format: double
              minimum: 0
            lastUpdatedAt:
              type: string
          required:
            - value
            - lastUpdatedAt
        affinities:
          type: object
          description: Prediction for the **affinities** model.
          properties:
            value:
              type: array
              items:
                title: affinity
                type: object
                properties:
                  name:
                    type: string
                  value:
                    type: string
                  probability:
                    type: number
                    format: double
                    minimum: 0
                    maximum: 1
                required:
                  - name
                  - value
                  - probability
            lastUpdatedAt:
              type: string
          required:
            - value
            - lastUpdatedAt
    properties:
      type: object
      title: properties
      description: Properties for the user profile.
      properties:
        raw:
          type: object
          description: Raw user properties (key-value pairs).
        computed:
          type: object
          description: Computed user properties (key-value pairs).
        custom:
          type: object
          description: Custom user properties (key-value pairs).
    segments:
      type: object
      title: segments
      required:
        - computed
        - custom
      description: Segments that the user belongs to.
      properties:
        computed:
          type: array
          description: List of computed segments IDs.
          items:
            type: string
        custom:
          type: array
          description: List of custom segments IDs.
          items:
            type: string
