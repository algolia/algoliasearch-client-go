get:
  tags:
    - segments
  operationId: fetchAllSegments
  description: Get the list of segments with their configuration.
  summary: Get all segments.
  parameters:
    - $ref: '../../common/parameters.yml#/type'
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            $ref: '../../responses/Segment.yml#/fetchAllSegmentsResponse'
    '404':
      $ref: '../../../common/responses/IndexNotFound.yml'
    '422':
      $ref: '../../../common/responses/StatusUnprocessableEntity.yml'
    '500':
      $ref: '../../../common/responses/InternalError.yml'
post:
  tags:
    - segments
  operationId: createSegment
  summary: Create a segment.
  description: Create a new segment. All segments added by this endpoint will have a computed type. The endpoint receives a filters parameter, with a syntax similar to filters for Rules.
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '../../common/schemas/SegmentsParams.yml#/createSegmentParams'
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            $ref: '../../responses/Segment.yml#/createSegmentResponse'
    '400':
      $ref: '../../../common/responses/IndexNotFound.yml'
    '401':
      $ref: '../../../common/responses/Unauthorized.yml'
    '422':
      $ref: '../../../common/responses/StatusUnprocessableEntity.yml'
    '500':
      $ref: '../../../common/responses/InternalError.yml'
