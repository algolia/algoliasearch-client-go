post:
  operationId: pushEvents
  description: This command pushes an array of events.
  summary: Pushes an array of events.
  requestBody:
    required: true
    content:
      application/json:
        schema:
          title: InsightEvents
          type: object
          description: Object containing the events sent.
          additionalProperties: false
          required:
            - events
          properties:
            events:
              type: array
              description: Array of events sent.
              items:
                title: InsightEvent
                type: object
                description: Insights event.
                additionalProperties: false
                properties:
                  eventType:
                    $ref: '../common/enums.yml#/eventType'
                  eventName:
                    type: string
                    description: A user-defined string used to categorize events.
                  index:
                    type: string
                    description: Name of the targeted index.
                  userToken:
                    type: string
                    description: A user identifier. Depending if the user is logged-in or not, several strategies can be used from a sessionId to a technical identifier.
                  timestamp:
                    type: integer
                    description: Time of the event expressed in milliseconds since the Unix epoch.
                  queryID:
                    type: string
                    description: Algolia queryID. This is required when an event is tied to a search.
                  objectIDs:
                    type: array
                    description: An array of index objectID. Limited to 20 objects. An event can’t have both objectIDs and filters at the same time.
                    items:
                      type: string
                  filters:
                    type: array
                    description: An array of filters. Limited to 10 filters. An event can’t have both objectIDs and filters at the same time.
                    items:
                      type: string
                  positions:
                    type: array
                    description: Position of the click in the list of Algolia search results. This field is required if a queryID is provided. One position must be provided for each objectID.
                    items:
                      type: integer
                required:
                  - eventType
                  - eventName
                  - index
                  - userToken
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            title: pushEventsResponse
            type: object
            additionalProperties: false
            required:
              - message
            properties:
              message:
                type: string
                description: A message confirming the event push.
    '400':
      $ref: '../../common/responses/BadRequest.yml'
    '402':
      $ref: '../../common/responses/FeatureNotEnabled.yml'
    '403':
      $ref: '../../common/responses/MethodNotAllowed.yml'
    '404':
      $ref: '../../common/responses/IndexNotFound.yml'
