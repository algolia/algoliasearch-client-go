Destination:
  type: object
  description: A destination describe how the data is indexed on the Algolia side.
  additionalProperties: false
  properties:
    destinationID:
      $ref: './common.yml#/destinationID'
    type:
      $ref: '#/DestinationType'
    name:
      $ref: './common.yml#/name'
    input:
      $ref: '#/DestinationInput'
    createdAt:
      $ref: './common.yml#/createdAt'
    updatedAt:
      $ref: './common.yml#/updatedAt'
    authenticationID:
      type: string
  required:
    - destinationID
    - type
    - name
    - input
    - createdAt

DestinationCreate:
  type: object
  additionalProperties: false
  description: The payload when creating a destination.
  properties:
    type:
      $ref: '#/DestinationType'
    name:
      $ref: './common.yml#/name'
    input:
      $ref: '#/DestinationInput'
    authenticationID:
      $ref: './common.yml#/authenticationID'
  required:
    - type
    - name
    - input
    - authenticationID

DestinationCreateResponse:
  type: object
  additionalProperties: false
  description: Response from the API when the Destination is successfully created.
  properties:
    destinationID:
      $ref: './common.yml#/destinationID'
    name:
      $ref: './common.yml#/name'
    createdAt:
      $ref: './common.yml#/createdAt'
  required:
    - destinationID
    - name
    - createdAt

DestinationUpdate:
  type: object
  additionalProperties: false
  description: Payload to partialy update a Destination.
  properties:
    type:
      $ref: '#/DestinationType'
    name:
      $ref: './common.yml#/name'
    input:
      $ref: '#/DestinationInput'
    authenticationID:
      type: string

DestinationUpdateResponse:
  type: object
  additionalProperties: false
  description: Response from the API when the Destination is successfully updated.
  properties:
    destinationID:
      $ref: './common.yml#/destinationID'
    name:
      $ref: './common.yml#/name'
    updatedAt:
      $ref: './common.yml#/updatedAt'
  required:
    - destinationID
    - name
    - updatedAt

DestinationSearch:
  type: object
  additionalProperties: false
  description: Payload to search for multiple destinations, based on the given `destinationIDs`.
  properties:
    destinationIDs:
      type: array
      items:
        $ref: './common.yml#/destinationID'
  required:
    - destinationIDs

DestinationType:
  type: string
  description: Type of the Destination, defines in which Algolia product the data will be stored.
  enum: ['search', 'insights', 'flow', 'predict']

DestinationIndexPrefix:
  type: object
  additionalProperties: false
  properties:
    indexPrefix:
      type: string
      description: The prefix of the final index name.
  required:
    - indexPrefix

DestinationIndexName:
  type: object
  additionalProperties: false
  properties:
    indexName:
      type: string
      description: The index name to store data in.
  required:
    - indexName

DestinationInput:
  oneOf:
    - $ref: '#/DestinationIndexPrefix'
    - $ref: '#/DestinationIndexName'
