Source:
  type: object
  additionalProperties: false
  properties:
    sourceID:
      type: string
    type:
      $ref: '#/SourceType'
    name:
      type: string
    input:
      $ref: '#/SourceInput'
    authenticationID:
      type: string
    createdAt:
      $ref: './common.yml#/createdAt'
    updatedAt:
      $ref: './common.yml#/updatedAt'
  required:
    - sourceID
    - type
    - name
    - input
    - authenticationID
    - createdAt

SourceCreate:
  type: object
  additionalProperties: false
  properties:
    type:
      $ref: '#/SourceType'
    name:
      type: string
    input:
      $ref: '#/SourceInput'
    authenticationID:
      type: string
  required:
    - type
    - name
    - input
    - authenticationID

SourceCreateResponse:
  type: object
  additionalProperties: false
  properties:
    sourceID:
      type: string
    name:
      type: string
    createdAt:
      $ref: './common.yml#/createdAt'
  required:
    - sourceID
    - name
    - createdAt

SourceUpdate:
  type: object
  additionalProperties: false
  properties:
    type:
      $ref: '#/SourceType'
    name:
      type: string
    input:
      $ref: '#/SourceInput'
    authenticationID:
      type: string

SourceUpdateResponse:
  type: object
  additionalProperties: false
  properties:
    sourceID:
      type: string
    name:
      type: string
    updatedAt:
      $ref: './common.yml#/updatedAt'
  required:
    - sourceID
    - name
    - updatedAt

SourceType:
  type: string
  enum: ['bigcommerce', 'commercetools', 'json']

SourceCommercetools:
  type: object
  additionalProperties: false
  properties:
    storeKeys:
      type: array
      items:
        type: string
    locales:
      type: array
      items:
        type: string
        description: >
          The string must match the following pattern: ^[a-z]{2}(-[A-Z]{2})?$. For example "fr-FR" or "en".
    url:
      type: string
    projectKey:
      type: string
  required:
    - url
    - projectKey

SourceBigCommerce:
  type: object
  additionalProperties: false
  properties:
    storeHash:
      type: string
  required:
    - store_hash

MethodType:
  type: string
  enum: ['GET', 'POST']

SourceJson:
  type: object
  additionalProperties: false
  properties:
    url:
      type: string
    method:
      $ref: '#/MethodType'
  required:
    - url

SourceInput:
  oneOf:
    - $ref: '#/SourceCommercetools'
    - $ref: '#/SourceBigCommerce'
    - $ref: '#/SourceJson'
