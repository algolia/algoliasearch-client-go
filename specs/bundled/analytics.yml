openapi: 3.0.2
info:
  title: Analytics API
  description: API powering the Analytics feature of Algolia.
  version: 1.0.0
components:
  securitySchemes:
    appId:
      type: apiKey
      in: header
      name: X-Algolia-Application-Id
    apiKey:
      type: apiKey
      in: header
      name: X-Algolia-API-Key
  parameters:
    PathInPath:
      name: path
      in: path
      description: >-
        The path of the API endpoint to target, anything after the /1 needs to
        be specified.
      required: true
      schema:
        type: string
        example: /keys
    Parameters:
      name: parameters
      in: query
      description: Query parameters to be applied to the current query.
      schema:
        type: object
        additionalProperties: true
    Index:
      in: query
      name: index
      description: The index name to target.
      required: true
      schema:
        type: string
    ClickAnalytics:
      in: query
      name: clickAnalytics
      description: Whether to include the click-through and conversion rates for a search.
      schema:
        type: boolean
        default: false
    StartDate:
      in: query
      name: startDate
      description: >-
        The lower bound timestamp (a date, a string like "2006-01-02") of the
        period to analyze.
      schema:
        type: string
        example: '1999-09-19'
        pattern: ^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$
    EndDate:
      in: query
      name: endDate
      description: >-
        The upper bound timestamp (a date, a string like "2006-01-02") of the
        period to analyze.
      schema:
        type: string
        example: '2000-01-21'
        pattern: ^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$
    OrderBy:
      in: query
      name: orderBy
      description: Reorder the results.
      schema:
        $ref: '#/components/schemas/orderBy'
    Direction:
      in: query
      name: direction
      description: The sorting of the result.
      schema:
        $ref: '#/components/schemas/direction'
    Limit:
      in: query
      name: limit
      description: Number of records to return. Limit is the size of the page.
      schema:
        type: integer
        default: 10
    Offset:
      in: query
      name: offset
      description: Position of the starting record. Used for paging. 0 is the first record.
      schema:
        type: integer
        default: 0
    Tags:
      name: tags
      in: query
      description: >-
        Filter metrics on the provided tags. Each tag must correspond to an
        analyticsTags set at search time. Multiple tags can be combined with the
        operators OR and AND. If a tag contains characters like spaces or
        parentheses, it should be URL encoded.
      schema:
        type: string
    Search:
      in: query
      name: search
      description: The query term to search for. Must match the exact user input.
      schema:
        type: string
    Attribute:
      in: path
      name: attribute
      description: The exact name of the attribute.
      required: true
      schema:
        type: string
  schemas:
    ErrorBase:
      description: Error.
      type: object
      additionalProperties: true
      properties:
        message:
          type: string
          example: Invalid Application-Id or API-Key
    orderBy:
      type: string
      enum:
        - searchCount
        - clickThroughRate
        - conversionRate
        - averageClickPosition
      default: searchCount
    direction:
      type: string
      enum:
        - asc
        - desc
      default: asc
    search:
      description: The search query.
      type: string
    count:
      description: The number of occurrences.
      type: integer
    nbHits:
      type: integer
      description: Number of hits that the search query matched.
      example: 20
    topSearchesResponse:
      type: object
      additionalProperties: false
      required:
        - searches
      properties:
        searches:
          type: array
          description: A list of top searches with their count.
          items:
            type: object
            title: topSearch
            additionalProperties: false
            required:
              - search
              - count
              - nbHits
            properties:
              search:
                $ref: '#/components/schemas/search'
              count:
                $ref: '#/components/schemas/count'
              nbHits:
                $ref: '#/components/schemas/nbHits'
    rate:
      type: number
      format: double
      description: The click-through rate.
    averageClickPosition:
      type: integer
      description: The average position of all the click count event.
    conversionRate:
      type: number
      format: double
      description: The conversion rate.
    trackedSearchCount:
      type: integer
      description: The number of tracked search click.
    clickCount:
      type: integer
      description: The number of click event.
    conversionCount:
      type: integer
      description: The number of converted clicks.
    topSearchesResponseWithAnalytics:
      type: object
      additionalProperties: false
      required:
        - searches
      properties:
        searches:
          type: array
          description: A list of top searches with their count and analytics.
          items:
            type: object
            title: topSearchWithAnalytics
            additionalProperties: false
            required:
              - search
              - count
              - nbHits
              - clickThroughRate
              - averageClickPosition
              - conversionRate
              - trackedSearchCount
              - clickCount
              - conversionCount
            properties:
              search:
                $ref: '#/components/schemas/search'
              count:
                $ref: '#/components/schemas/count'
              clickThroughRate:
                $ref: '#/components/schemas/rate'
              averageClickPosition:
                $ref: '#/components/schemas/averageClickPosition'
              conversionRate:
                $ref: '#/components/schemas/conversionRate'
              trackedSearchCount:
                $ref: '#/components/schemas/trackedSearchCount'
              clickCount:
                $ref: '#/components/schemas/clickCount'
              conversionCount:
                $ref: '#/components/schemas/conversionCount'
              nbHits:
                $ref: '#/components/schemas/nbHits'
    getTopSearchesResponse:
      oneOf:
        - $ref: '#/components/schemas/topSearchesResponse'
        - $ref: '#/components/schemas/topSearchesResponseWithAnalytics'
    date:
      type: string
      description: Date of the event.
    hit:
      description: The hit.
      type: string
    topHitsResponse:
      type: object
      additionalProperties: false
      required:
        - hits
      properties:
        hits:
          type: array
          description: A list of top hits with their count.
          items:
            type: object
            title: topHit
            additionalProperties: false
            required:
              - hit
              - count
            properties:
              hit:
                $ref: '#/components/schemas/hit'
              count:
                $ref: '#/components/schemas/count'
    topHitsResponseWithAnalytics:
      type: object
      additionalProperties: false
      required:
        - hits
      properties:
        hits:
          type: array
          description: A list of top hits with their count and analytics.
          items:
            type: object
            title: topHitWithAnalytics
            additionalProperties: false
            required:
              - hit
              - count
              - clickThroughRate
              - conversionRate
              - trackedSearchCount
              - clickCount
              - conversionCount
            properties:
              hit:
                $ref: '#/components/schemas/hit'
              count:
                $ref: '#/components/schemas/count'
              clickThroughRate:
                $ref: '#/components/schemas/rate'
              conversionRate:
                $ref: '#/components/schemas/conversionRate'
              trackedSearchCount:
                $ref: '#/components/schemas/trackedSearchCount'
              clickCount:
                $ref: '#/components/schemas/clickCount'
              conversionCount:
                $ref: '#/components/schemas/conversionCount'
    getTopHitsResponse:
      oneOf:
        - $ref: '#/components/schemas/topHitsResponse'
        - $ref: '#/components/schemas/topHitsResponseWithAnalytics'
    attribute:
      description: The attribute.
      type: string
    getTopFilterAttribute:
      type: object
      additionalProperties: false
      required:
        - attribute
        - count
      properties:
        attribute:
          $ref: '#/components/schemas/attribute'
        count:
          $ref: '#/components/schemas/count'
    getTopFilterAttributesResponse:
      type: object
      additionalProperties: false
      required:
        - attributes
      properties:
        attributes:
          type: array
          description: A list of attributes with their count.
          items:
            $ref: '#/components/schemas/getTopFilterAttribute'
    operator:
      description: The operator.
      type: string
    value:
      description: The value of the attribute.
      type: string
    getTopFilterForAttribute:
      type: object
      additionalProperties: false
      required:
        - operator
        - attribute
        - value
        - count
      properties:
        attribute:
          $ref: '#/components/schemas/attribute'
        operator:
          $ref: '#/components/schemas/operator'
        value:
          $ref: '#/components/schemas/value'
        count:
          $ref: '#/components/schemas/count'
    getTopFilterForAttributeResponse:
      type: object
      additionalProperties: false
      required:
        - values
      properties:
        values:
          type: array
          description: A list of filters for the given attributes.
          items:
            $ref: '#/components/schemas/getTopFilterForAttribute'
    getTopFiltersNoResultsValue:
      type: object
      additionalProperties: false
      required:
        - attribute
        - operator
        - value
      properties:
        attribute:
          $ref: '#/components/schemas/attribute'
        operator:
          $ref: '#/components/schemas/operator'
        value:
          $ref: '#/components/schemas/value'
    getTopFiltersNoResultsValues:
      type: object
      additionalProperties: false
      required:
        - values
        - count
      properties:
        count:
          $ref: '#/components/schemas/count'
        values:
          type: array
          description: A list of filters without results.
          items:
            $ref: '#/components/schemas/getTopFiltersNoResultsValue'
    getTopFiltersNoResultsResponse:
      type: object
      additionalProperties: false
      required:
        - values
      properties:
        values:
          type: array
          description: A list of filters without results.
          items:
            $ref: '#/components/schemas/getTopFiltersNoResultsValues'
    average:
      type: number
      format: double
      description: The average of all the click count event.
    updatedAt:
      type: string
      description: Date of last update (ISO-8601 format).
  responses:
    BadRequest:
      description: Bad request or request arguments.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBase'
    FeatureNotEnabled:
      description: This feature is not enabled on your Algolia account.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBase'
    MethodNotAllowed:
      description: Method not allowed with this API key.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBase'
    IndexNotFound:
      description: Index not found.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBase'
servers:
  - url: https://analytics.{region}.algolia.com
    variables:
      region:
        enum:
          - us
          - de
        default: us
  - url: https://analytics.algolia.com
security:
  - appId: []
    apiKey: []
tags:
  - name: advanced
    x-displayName: Advanced
    description: Advanced operations.
  - name: click
    x-displayName: Click Analytics
    description: Get all click analytics.
  - name: search
    x-displayName: Search Analytics
    description: Get all search analytics.
x-tagGroups:
  - name: General
    tags:
      - search
      - click
  - name: Others
    tags:
      - advanced
paths:
  /1{path}:
    get:
      operationId: get
      summary: Send requests to the Algolia REST API.
      description: This method allow you to send requests to the Algolia REST API.
      parameters:
        - $ref: '#/components/parameters/PathInPath'
        - $ref: '#/components/parameters/Parameters'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      tags:
        - analytics
    post:
      operationId: post
      requestBody:
        description: The parameters to send with the custom request.
        content:
          application/json:
            schema:
              type: object
      summary: Send requests to the Algolia REST API.
      description: This method allow you to send requests to the Algolia REST API.
      parameters:
        - $ref: '#/components/parameters/PathInPath'
        - $ref: '#/components/parameters/Parameters'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      tags:
        - analytics
    put:
      operationId: put
      requestBody:
        description: The parameters to send with the custom request.
        content:
          application/json:
            schema:
              type: object
      summary: Send requests to the Algolia REST API.
      description: This method allow you to send requests to the Algolia REST API.
      parameters:
        - $ref: '#/components/parameters/PathInPath'
        - $ref: '#/components/parameters/Parameters'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      tags:
        - analytics
    delete:
      operationId: del
      summary: Send requests to the Algolia REST API.
      description: This method allow you to send requests to the Algolia REST API.
      parameters:
        - $ref: '#/components/parameters/PathInPath'
        - $ref: '#/components/parameters/Parameters'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      tags:
        - analytics
  /2/searches:
    get:
      tags:
        - analytics
      operationId: getTopSearches
      summary: Get top searches.
      description: >-
        Returns top searches. Limited to the 1000 most frequent ones. For each
        search, also returns the average number of hits returned.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/ClickAnalytics'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/OrderBy'
        - $ref: '#/components/parameters/Direction'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Offset'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getTopSearchesResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/searches/count:
    get:
      tags:
        - analytics
      operationId: getSearchesCount
      summary: Get searches count.
      description: >-
        Returns the number of searches across the given time range. The endpoint
        returns a value for the complete given time range, as well as a value
        per day.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getSearchesCountResponse
                type: object
                additionalProperties: false
                required:
                  - dates
                  - count
                properties:
                  count:
                    $ref: '#/components/schemas/count'
                  dates:
                    type: array
                    description: A list of search events with their date and count.
                    items:
                      type: object
                      title: searchEvent
                      additionalProperties: false
                      required:
                        - date
                        - count
                      properties:
                        date:
                          $ref: '#/components/schemas/date'
                        count:
                          $ref: '#/components/schemas/count'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/searches/noResults:
    get:
      tags:
        - analytics
      operationId: getSearchesNoResults
      summary: Get top searches with no results.
      description: >-
        Returns top searches that didn't return any results. Limited to the 1000
        most frequent ones.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Offset'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getSearchesNoResultsResponse
                type: object
                additionalProperties: false
                required:
                  - searches
                properties:
                  searches:
                    type: array
                    description: A list of searches with no results and their count.
                    items:
                      type: object
                      title: searchNoResultEvent
                      additionalProperties: false
                      required:
                        - search
                        - count
                        - nbHits
                      properties:
                        search:
                          $ref: '#/components/schemas/search'
                        count:
                          $ref: '#/components/schemas/count'
                        nbHits:
                          $ref: '#/components/schemas/nbHits'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/searches/noClicks:
    get:
      tags:
        - analytics
      operationId: getSearchesNoClicks
      summary: Get top searches with no clicks.
      description: >-
        Returns top searches that didn't lead to any clicks. Limited to the 1000
        most frequent ones. For each search, also returns the average number of
        found hits.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Offset'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getSearchesNoClicksResponse
                type: object
                additionalProperties: false
                required:
                  - searches
                properties:
                  searches:
                    type: array
                    description: A list of searches with no clicks and their count.
                    items:
                      type: object
                      title: searchNoClickEvent
                      additionalProperties: false
                      required:
                        - search
                        - count
                        - withFilterCount
                      properties:
                        search:
                          $ref: '#/components/schemas/search'
                        count:
                          $ref: '#/components/schemas/count'
                        withFilterCount:
                          $ref: '#/components/schemas/count'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/searches/noResultRate:
    get:
      tags:
        - analytics
      operationId: getNoResultsRate
      summary: Get no results rate.
      description: >-
        Returns the rate at which searches didn't return any results. The
        endpoint returns a value for the complete given time range, as well as a
        value per day. It also returns the count of searches and searches
        without results used to compute the rates.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getNoResultsRateResponse
                type: object
                additionalProperties: false
                required:
                  - rate
                  - count
                  - noResultCount
                  - dates
                properties:
                  rate:
                    $ref: '#/components/schemas/rate'
                  count:
                    $ref: '#/components/schemas/count'
                  noResultCount:
                    $ref: '#/components/schemas/count'
                  dates:
                    type: array
                    description: >-
                      A list of searches without results with their date, rate
                      and counts.
                    items:
                      type: object
                      title: noResultsRateEvent
                      additionalProperties: false
                      required:
                        - date
                        - noResultCount
                        - count
                        - rate
                      properties:
                        date:
                          $ref: '#/components/schemas/date'
                        noResultCount:
                          $ref: '#/components/schemas/count'
                        count:
                          $ref: '#/components/schemas/count'
                        rate:
                          $ref: '#/components/schemas/rate'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/searches/noClickRate:
    get:
      tags:
        - analytics
      operationId: getNoClickRate
      summary: Get no click rate.
      description: >-
        Returns the rate at which searches didn't lead to any clicks. The
        endpoint returns a value for the complete given time range, as well as a
        value per day. It also returns the count of searches and searches
        without clicks.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getNoClickRateResponse
                type: object
                additionalProperties: false
                required:
                  - dates
                  - count
                  - noClickCount
                  - rate
                properties:
                  rate:
                    $ref: '#/components/schemas/rate'
                  count:
                    $ref: '#/components/schemas/clickCount'
                  noClickCount:
                    $ref: '#/components/schemas/clickCount'
                  dates:
                    type: array
                    description: >-
                      A list of searches without clicks with their date, rate
                      and counts.
                    items:
                      type: object
                      title: noClickRateEvent
                      additionalProperties: false
                      required:
                        - rate
                        - count
                        - noClickCount
                        - date
                      properties:
                        rate:
                          $ref: '#/components/schemas/rate'
                        count:
                          $ref: '#/components/schemas/clickCount'
                        noClickCount:
                          $ref: '#/components/schemas/clickCount'
                        date:
                          $ref: '#/components/schemas/date'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/hits:
    get:
      tags:
        - analytics
      operationId: getTopHits
      summary: Get top hits.
      description: Returns top hits. Limited to the 1000 most frequent ones.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/Search'
        - $ref: '#/components/parameters/ClickAnalytics'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Offset'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getTopHitsResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/users/count:
    get:
      tags:
        - analytics
      operationId: getUsersCount
      summary: Get users count.
      description: >-
        Returns the distinct count of users across the given time range. The
        endpoint returns a value for the complete given time range, as well as a
        value per day.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getUsersCountResponse
                type: object
                additionalProperties: false
                required:
                  - dates
                  - count
                properties:
                  count:
                    $ref: '#/components/schemas/count'
                  dates:
                    type: array
                    description: A list of users count with their date.
                    items:
                      type: object
                      title: userWithDate
                      additionalProperties: false
                      required:
                        - date
                        - count
                      properties:
                        date:
                          $ref: '#/components/schemas/date'
                        count:
                          $ref: '#/components/schemas/count'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/filters:
    get:
      tags:
        - analytics
      operationId: getTopFilterAttributes
      summary: Get top filter attributes.
      description: Returns top filter attributes. Limited to the 1000 most used filters.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/Search'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Offset'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getTopFilterAttributesResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/filters/{attribute}:
    get:
      tags:
        - analytics
      operationId: getTopFilterForAttribute
      summary: Get top filters for the an attribute.
      description: >-
        Returns top filters for the given attribute. Limited to the 1000 most
        used filters.
      parameters:
        - $ref: '#/components/parameters/Attribute'
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/Search'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Offset'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getTopFilterForAttributeResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/filters/noResults:
    get:
      tags:
        - analytics
      operationId: getTopFiltersNoResults
      summary: Get top filters for a no result search.
      description: >-
        Returns top filters with no results. Limited to the 1000 most used
        filters.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/Search'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Offset'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getTopFiltersNoResultsResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/countries:
    get:
      tags:
        - analytics
      operationId: getTopCountries
      summary: Get top countries.
      description: Returns top countries. Limited to the 1000 most frequent ones.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Offset'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getTopCountriesResponse
                type: object
                additionalProperties: false
                required:
                  - countries
                properties:
                  countries:
                    type: array
                    description: A list of countries with their count.
                    items:
                      type: object
                      title: topCountry
                      additionalProperties: false
                      required:
                        - country
                        - count
                      properties:
                        country:
                          description: The country.
                          type: string
                        count:
                          $ref: '#/components/schemas/count'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/clicks/averageClickPosition:
    get:
      tags:
        - analytics
      operationId: getAverageClickPosition
      summary: Get average click position.
      description: >-
        Returns the average click position. The endpoint returns a value for the
        complete given time range, as well as a value per day.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getAverageClickPositionResponse
                type: object
                additionalProperties: false
                required:
                  - average
                  - clickCount
                  - dates
                properties:
                  average:
                    $ref: '#/components/schemas/average'
                  clickCount:
                    $ref: '#/components/schemas/clickCount'
                  dates:
                    type: array
                    description: A list of average click position with their date.
                    items:
                      type: object
                      title: averageClickEvent
                      additionalProperties: false
                      required:
                        - average
                        - clickCount
                        - date
                      properties:
                        average:
                          $ref: '#/components/schemas/average'
                        clickCount:
                          $ref: '#/components/schemas/clickCount'
                        date:
                          $ref: '#/components/schemas/date'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/clicks/positions:
    get:
      tags:
        - analytics
      operationId: getClickPositions
      summary: Get clicks per positions.
      description: >
        Returns the distribution of clicks per range of positions.


        If the groups all have a count of 0, it means Algolia didnâ€™t receive any
        click events for the queries with the clickAnalytics search parameter
        set to true.

        The count is 0 until Algolia receives at least one click event.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getClickPositionsResponse
                type: object
                additionalProperties: false
                required:
                  - positions
                properties:
                  positions:
                    type: array
                    description: A list of the click positions with their click count.
                    minItems: 2
                    maxItems: 2
                    items:
                      type: object
                      title: clickPosition
                      additionalProperties: false
                      required:
                        - position
                        - clickCount
                      properties:
                        position:
                          description: >
                            Range of positions with the following pattern:

                            - Positions from 1 to 10 included are displayed in
                            separated groups.

                            - Positions from 11 to 20 included are grouped
                            together.

                            - Positions from 21 and up are grouped together.
                          type: array
                          items:
                            type: integer
                        clickCount:
                          $ref: '#/components/schemas/clickCount'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/clicks/clickThroughRate:
    get:
      tags:
        - analytics
      operationId: getClickThroughRate
      summary: Get click-through rate (CTR).
      description: >-
        Returns a click-through rate (CTR). The endpoint returns a value for the
        complete given time range, as well as a value per day. It also returns
        the count of clicks and searches used to compute the rates.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getClickThroughRateResponse
                type: object
                additionalProperties: false
                required:
                  - dates
                  - clickCount
                  - trackedSearchCount
                  - rate
                properties:
                  rate:
                    $ref: '#/components/schemas/rate'
                  clickCount:
                    $ref: '#/components/schemas/clickCount'
                  trackedSearchCount:
                    $ref: '#/components/schemas/trackedSearchCount'
                  dates:
                    type: array
                    description: A list of click-through rate events with their date.
                    items:
                      type: object
                      title: clickThroughRateEvent
                      additionalProperties: false
                      required:
                        - rate
                        - clickCount
                        - trackedSearchCount
                        - date
                      properties:
                        rate:
                          $ref: '#/components/schemas/rate'
                        clickCount:
                          $ref: '#/components/schemas/clickCount'
                        trackedSearchCount:
                          $ref: '#/components/schemas/trackedSearchCount'
                        date:
                          $ref: '#/components/schemas/date'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/conversions/conversionRate:
    get:
      tags:
        - analytics
      operationId: getConversationRate
      summary: Get conversion rate (CR).
      description: >-
        Returns a conversion rate (CR). The endpoint returns a value for the
        complete given time range, as well as a value per day. It also returns
        the count of conversion and searches used to compute the rates.
      parameters:
        - $ref: '#/components/parameters/Index'
        - $ref: '#/components/parameters/StartDate'
        - $ref: '#/components/parameters/EndDate'
        - $ref: '#/components/parameters/Tags'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getConversationRateResponse
                type: object
                additionalProperties: false
                required:
                  - dates
                  - trackedSearchCount
                  - conversionCount
                  - rate
                properties:
                  rate:
                    $ref: '#/components/schemas/rate'
                  trackedSearchCount:
                    $ref: '#/components/schemas/trackedSearchCount'
                  conversionCount:
                    $ref: '#/components/schemas/conversionCount'
                  dates:
                    type: array
                    description: A list of conversion events with their date.
                    items:
                      type: object
                      title: conversionRateEvent
                      additionalProperties: false
                      required:
                        - rate
                        - trackedSearchCount
                        - conversionCount
                        - date
                      properties:
                        rate:
                          $ref: '#/components/schemas/rate'
                        trackedSearchCount:
                          $ref: '#/components/schemas/trackedSearchCount'
                        conversionCount:
                          $ref: '#/components/schemas/conversionCount'
                        date:
                          $ref: '#/components/schemas/date'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
  /2/status:
    get:
      tags:
        - analytics
      operationId: getStatus
      summary: Get Analytics API status.
      description: >-
        Returns the latest update time of the analytics API for a given index.
        If the index has been recently created and/or no search has been
        performed yet the updated time will be null.
      parameters:
        - $ref: '#/components/parameters/Index'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: getStatusResponse
                type: object
                additionalProperties: false
                required:
                  - updatedAt
                properties:
                  updatedAt:
                    $ref: '#/components/schemas/updatedAt'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
